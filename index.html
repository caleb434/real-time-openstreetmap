<script>
  // Verifica si el navegador soporta geolocalización
  if ("geolocation" in navigator) {
    navigator.geolocation.getCurrentPosition(
      (position) => {
        const latitude = position.coords.latitude;
        const longitude = position.coords.longitude;

        console.log(`Latitud: ${latitude}, Longitud: ${longitude}`);

        // Carga el mapa centrado en la ubicación actual
        const map = L.map('map').setView([latitude, longitude], 13);

        // Agrega el mapa base de OpenStreetMap
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          maxZoom: 19,
        }).addTo(map);

        // Agrega un marcador en la ubicación actual
        L.marker([latitude, longitude]).addTo(map).bindPopup('Estás aquí').openPopup();
      },
      (error) => {
        console.error("Error obteniendo la ubicación: ", error);
        alert("No se pudo obtener la ubicación actual.");
      }
    );
  } else {
    alert("Geolocalización no es soportada por tu navegador.");
  }
</script>
