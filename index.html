<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba de Geolocalización</title>
</head>
<body>
    <h1>Prueba de Geolocalización</h1>
    <p>Este mapa solicitará tu ubicación actual cuando cargues la página.</p>
    
    <script>
        // Asegurarse de que el documento esté completamente cargado
        document.addEventListener("DOMContentLoaded", function () {
            console.log("Página cargada, intentando obtener la ubicación.");

            // Verifica si la geolocalización está soportada
            if ("geolocation" in navigator) {
                console.log("Geolocalización soportada en este navegador.");
                
                // Solicita la ubicación actual del usuario
                navigator.geolocation.getCurrentPosition(
                    function (position) {
                        // Si se obtiene la ubicación, muestra la latitud y longitud
                        console.log("Ubicación obtenida.");
                        alert(`Ubicación obtenida: Latitud ${position.coords.latitude}, Longitud ${position.coords.longitude}`);
                    },
                    function (error) {
                        // Si hay un error, muestra un mensaje específico
                        console.error("Error de geolocalización:", error);
                        switch (error.code) {
                            case error.PERMISSION_DENIED:
                                alert("Has denegado el acceso a tu ubicación.");
                                break;
                            case error.POSITION_UNAVAILABLE:
                                alert("La información de ubicación no está disponible.");
                                break;
                            case error.TIMEOUT:
                                alert("La solicitud de ubicación ha tardado demasiado.");
                                break;
                            default:
                                alert("Ocurrió un error desconocido.");
                        }
                    }
                );
            } else {
                console.log("La geolocalización no está soportada en este navegador.");
                alert("La geolocalización no está soportada en tu navegador.");
            }
        });
    </script>
</body>
</html>
